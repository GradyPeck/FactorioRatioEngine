<h1 *ngIf="recipeBank.recipes.length < 1">NO CSV LOADED</h1>

<button id="removeButton" *ngIf="lasty && crunchID > 0" (click)="removeMe.emit(crunchID)">-</button>

<div *ngIf="selection && searchRecipe(selection) == undefined" id="searchResults">
    <button *ngFor="let match of recipeBank.recipes | myFilter : selection" (click)="selection=match">{{match}}</button>
</div>

<div>
    <p>Select final product and number to create per second:</p>

    <label>Final Product: 
        <input type="text" [(ngModel)]="selection" value="" (keyup.enter)="selection='Engine unit'">
    </label>

    <div id="amountSelectors" *ngIf="selection && searchRecipe(selection) != undefined">
        <label for="selectAmountItems">Desired Items/Second: </label>
        <input type="number" id="selectAmountItems" [(ngModel)]="selectAmountItems" (input)="EqualizeInputs('I')" (keyup.enter)="firstDomino(selection)">
        
        <label for="selectAmountMachines">Desired Machines to Occupy: </label>
        <input type="number" id="selectAmountMachines" [(ngModel)]="selectAmountMachines" (input)="EqualizeInputs('M')" (keyup.enter)="firstDomino(selection)">
    </div>

    <button *ngIf="selectAmountItems && selection && searchRecipe(selection) != undefined" (click)="firstDomino(selection)">Calculate!</button>
</div>

<br>
<label for="assemblyChoice">Assembly Machine
    <input type="range" min="1" max="3" value="2" name="assemblyChoice" [(ngModel)]="assemblyChoice">
</label>
<span>{{assemblyChoice}}</span>
<br>
<label for="furnaceChoice">Furnace
    <input type="range" min="1" max="2" value="2" name="furnaceChoice" [(ngModel)]="furnaceChoice">
</label>
<span>{{furnaceChoice}}</span>
<br>
<label for="drillChoice">Mining Drill
    <input type="range" min="1" max="2" value="2" name="drillChoice" [(ngModel)]="drillChoice">
</label>
<span>{{drillChoice}}</span>

<p *ngFor="let item of crunchResult">{{item.name}} : {{tooly.dec2frac(item.quantity)}}</p>


